{% extends "base.html" %}

{% block stylesheet %}
<link rel="stylesheet" href="{{ url_for('static', filename='gip_style.css' ) }}">
{% endblock stylesheet %}

{% block content %}
<div class="container">
    <div class="content__inner">
        {% for cat, msg in get_flashed_messages(True) %}
            <div class="space flash {{cat}}">{{msg}}</div>
        {% endfor %}
        
        <p class="gip__h">
            Форма редактирования статей расходов в проекте <br>
            <strong>{{ session.get("gip_project", "Проект не выбран") }}</strong>
        </p>
        <hr color=#4786FF size=1 style="margin-top: 10px;">
        <form action="{{ url_for('gip.edit_cat_cost') }}" method="POST">
            <p class="gip__p">Введите новое имя для статьи расходов и плановый показатель:</p>

            <label class="gip__p" for="cost_name" style="display: block;"><b>Новая статья расходов</b></label>
            <input class="gip__input-name" type="text" placeholder="Имя статьи расходов" name="cost_name" style="display: block;">

            <label class="gip__p" for="man_days" style="display: block;"><b>Планируемое количество трудозатрат (чел/день)</b></label>
            <input class="gip__input-rate" type="number" min="1" placeholder="чел/день" name="man_days" style="display: block;" value="default">
            <hr color=#4786FF size=1 style="margin-top: 10px;">
            <p class="gip__p">Изменение плановых показателей статьи расходов:<br>
                Выберете статью из списка и обновите плановые показатели</p>

            <label  class="gip__p" for="old_cost_list" style="display: block;"><b>Cтатьи расходов</b></label>
            <select class="old_cost_list" name="old_cost_list"  multiple>
                <option selected value="default">Не выбрано</option>
                {% for cat in added_cost -%}
                    <option value="{{ cat[0] }}">{{ cat[1]+" "+"("+cat[2]+" чел/день"+")" }}</option>
                {% endfor %}
            </select> 

            <label class="gip__p" style="display: block;" for="updated_man_days"><b>Плановый показатель (чел/день)</b></label>
            <input class="gip__input-rate" type="number" min="1" placeholder="чел/день" name="updated_man_days" value="default">
            <div class="gip-btns">
                <input class="gip__submit" style="display: block;" type="submit" value="Сохранить">
                {% if session.get("emp_role", "Нет роли") == 'gip' -%}
                <a class="gip__back" href="{{url_for('gip.gips_project')}}" class="gips-btn">Мой проект</a>
                {% endif %}
            </div>
        </form> 
    </div>    
</div>
{% endblock content %}